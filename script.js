const mock = {
	"snapshots": [
	{
	"cases": 337,
	"todayCases": 39,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 326,
	"critical": 5,
	"timestamp": "2020-03-17T21:00:00.200Z"
	},
	{
	"cases": 337,
	"todayCases": 39,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 326,
	"critical": 5,
	"timestamp": "2020-03-17T22:00:00.182Z"
	},
	{
	"cases": 337,
	"todayCases": 39,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 326,
	"critical": 5,
	"timestamp": "2020-03-17T23:00:00.171Z"
	},
	{
	"cases": 337,
	"todayCases": 39,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 326,
	"critical": 5,
	"timestamp": "2020-03-18T00:00:00.193Z"
	},
	{
	"cases": 337,
	"todayCases": 39,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 326,
	"critical": 5,
	"timestamp": "2020-03-18T01:00:00.205Z"
	},
	{
	"cases": 337,
	"todayCases": 39,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 326,
	"critical": 5,
	"timestamp": "2020-03-18T02:00:00.195Z"
	},
	{
	"cases": 337,
	"todayCases": 39,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 326,
	"critical": 5,
	"timestamp": "2020-03-18T03:00:00.182Z"
	},
	{
	"cases": 337,
	"todayCases": 39,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 326,
	"critical": 5,
	"timestamp": "2020-03-18T04:00:00.190Z"
	},
	{
	"cases": 337,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 326,
	"critical": 5,
	"timestamp": "2020-03-18T05:00:00.147Z"
	},
	{
	"cases": 427,
	"todayCases": 90,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 416,
	"critical": 5,
	"timestamp": "2020-03-18T06:00:00.205Z"
	},
	{
	"cases": 427,
	"todayCases": 90,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 416,
	"critical": 5,
	"timestamp": "2020-03-18T07:00:00.215Z"
	},
	{
	"cases": 427,
	"todayCases": 90,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 416,
	"critical": 5,
	"timestamp": "2020-03-18T08:00:00.192Z"
	},
	{
	"cases": 427,
	"todayCases": 90,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 416,
	"critical": 5,
	"timestamp": "2020-03-18T09:00:00.167Z"
	},
	{
	"cases": 427,
	"todayCases": 90,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 416,
	"critical": 5,
	"timestamp": "2020-03-18T10:00:00.221Z"
	},
	{
	"cases": 427,
	"todayCases": 90,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 416,
	"critical": 5,
	"timestamp": "2020-03-18T11:00:00.223Z"
	},
	{
	"cases": 427,
	"todayCases": 90,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 416,
	"critical": 5,
	"timestamp": "2020-03-18T12:00:00.202Z"
	},
	{
	"cases": 427,
	"todayCases": 90,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 416,
	"critical": 5,
	"timestamp": "2020-03-18T13:00:00.296Z"
	},
	{
	"cases": 433,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-18T14:00:00.178Z"
	},
	{
	"cases": 433,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-18T15:00:00.169Z"
	},
	{
	"cases": 433,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-18T16:00:00.171Z"
	},
	{
	"cases": 433,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-18T18:00:00.155Z"
	},
	{
	"cases": 433,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-18T19:00:00.206Z"
	},
	{
	"cases": 433,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-18T20:00:00.199Z"
	},
	{
	"cases": 433,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-18T21:00:00.171Z"
	},
	{
	"cases": 433,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-18T22:00:00.161Z"
	},
	{
	"cases": 433,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-18T23:00:00.188Z"
	},
	{
	"cases": 433,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-19T00:00:00.179Z"
	},
	{
	"cases": 433,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-19T02:00:00.181Z"
	},
	{
	"cases": 433,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-19T03:00:00.192Z"
	},
	{
	"cases": 433,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-19T04:00:00.162Z"
	},
	{
	"cases": 433,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-19T05:00:00.163Z"
	},
	{
	"cases": 433,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-19T06:00:00.187Z"
	},
	{
	"cases": 433,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 11,
	"active": 422,
	"critical": 6,
	"timestamp": "2020-03-19T07:00:00.203Z"
	},
	{
	"cases": 433,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 420,
	"critical": 6,
	"timestamp": "2020-03-19T08:00:00.151Z"
	},
	{
	"cases": 529,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 516,
	"critical": 6,
	"timestamp": "2020-03-19T09:00:00.176Z"
	},
	{
	"cases": 529,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 516,
	"critical": 6,
	"timestamp": "2020-03-19T10:00:00.153Z"
	},
	{
	"cases": 529,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 516,
	"critical": 6,
	"timestamp": "2020-03-19T11:00:00.150Z"
	},
	{
	"cases": 529,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 516,
	"critical": 6,
	"timestamp": "2020-03-19T12:00:00.164Z"
	},
	{
	"cases": 529,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 516,
	"critical": 6,
	"timestamp": "2020-03-19T13:00:00.237Z"
	},
	{
	"cases": 529,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 516,
	"critical": 6,
	"timestamp": "2020-03-19T14:00:00.221Z"
	},
	{
	"cases": 529,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 516,
	"critical": 6,
	"timestamp": "2020-03-19T15:00:00.230Z"
	},
	{
	"cases": 529,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 516,
	"critical": 6,
	"timestamp": "2020-03-19T16:00:00.167Z"
	},
	{
	"cases": 529,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 516,
	"critical": 6,
	"timestamp": "2020-03-19T17:00:00.204Z"
	},
	{
	"cases": 529,
	"todayCases": 96,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 516,
	"critical": 6,
	"timestamp": "2020-03-19T18:00:00.211Z"
	},
	{
	"cases": 573,
	"todayCases": 140,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 13,
	"active": 560,
	"critical": 6,
	"timestamp": "2020-03-19T19:00:00.159Z"
	},
	{
	"cases": 573,
	"todayCases": 140,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 559,
	"critical": 6,
	"timestamp": "2020-03-19T20:00:00.204Z"
	},
	{
	"cases": 677,
	"todayCases": 244,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-19T21:00:00.186Z"
	},
	{
	"cases": 677,
	"todayCases": 244,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-19T22:00:00.164Z"
	},
	{
	"cases": 677,
	"todayCases": 244,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-19T23:00:00.156Z"
	},
	{
	"cases": 677,
	"todayCases": 244,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-20T00:00:00.158Z"
	},
	{
	"cases": 677,
	"todayCases": 244,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-20T01:00:00.190Z"
	},
	{
	"cases": 677,
	"todayCases": 244,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-20T02:00:00.192Z"
	},
	{
	"cases": 677,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-20T03:00:00.182Z"
	},
	{
	"cases": 677,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-20T04:00:00.171Z"
	},
	{
	"cases": 677,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-20T05:00:00.194Z"
	},
	{
	"cases": 677,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-20T06:00:00.205Z"
	},
	{
	"cases": 677,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-20T07:00:00.169Z"
	},
	{
	"cases": 677,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-20T08:00:00.196Z"
	},
	{
	"cases": 677,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-20T09:00:00.198Z"
	},
	{
	"cases": 677,
	"todayCases": 0,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 14,
	"active": 663,
	"critical": 6,
	"timestamp": "2020-03-20T10:00:00.190Z"
	},
	{
	"cases": 705,
	"todayCases": 28,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 15,
	"active": 690,
	"critical": 10,
	"timestamp": "2020-03-20T11:00:00.232Z"
	},
	{
	"cases": 705,
	"todayCases": 28,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 15,
	"active": 690,
	"critical": 10,
	"timestamp": "2020-03-20T12:00:00.201Z"
	},
	{
	"cases": 705,
	"todayCases": 28,
	"deaths": 0,
	"todayDeaths": 0,
	"recovered": 15,
	"active": 690,
	"critical": 10,
	"timestamp": "2020-03-20T13:00:00.163Z"
	}
	],
	"name": "Israel",
	"code": "IL"
	};	

	$(document).ready(async () => {
		const data = await getDataByCountry('il');

		$('.spinner-container').fadeOut();
		$('.data').fadeIn();

		const { snapshots } = data
		const sortedByTime = _.orderBy(snapshots, s => s.timestamp, ['desc'])
		const latest = _.first(sortedByTime);

		writeItems(latest);
	})

	const getDataByCountry = async (countryCode) => {
		return mock;
		try {
			const res = await Axios.get(`http://covid19.soficoop.com/country/${countryCode}`);
			return res.data;
		} catch(e) {
			alert("שגיאה");
			console.error('e ?', e);
		}
	}

	const writeItems = (items) => {

		const TOTAL_CASES_ID = "total";
		const TODAY_CASES_ID = "today";
		const DEATHS_ID = "deaths";
		
		$(`#${TOTAL_CASES_ID}`).text(items.cases);

		$(`#${TODAY_CASES_ID}`).text(items.todayCases);
		
		$(`#${DEATHS_ID}`).text(items.deaths);
	}
	
